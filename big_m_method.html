<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enkel Visualisering av Big-M Metoden</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
        }
        
        h1, h2, h3 {
            color: #2c3e50;
        }
        
        h1, h2 {
            text-align: center;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        #canvas-container {
            width: 100%;
            text-align: center;
        }
        
        canvas {
            max-width: 100%;
            border: 1px solid #ddd;
            margin: 0 auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 15px;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .basis {
            font-weight: bold;
            background-color: #e8f4f8;
        }
        
        .highlighted {
            background-color: #fff8e1;
        }
        
        .artificial {
            background-color: #ffebee;
            font-weight: bold;
            color: #d32f2f;
        }
        
        .m-highlight {
            background-color: #e1f5fe;
            font-weight: bold;
            color: #0277bd;
        }
        
        .important-box {
            background-color: #f9f3f3;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
            margin: 15px 0;
        }
        
        .note {
            background-color: #e8f5e9;
            padding: 10px;
            border-left: 4px solid #2e7d32;
            margin: 10px 0;
        }
        
        .info {
            background-color: #e1f5fe;
            padding: 10px;
            border-left: 4px solid #0277bd;
            margin: 10px 0;
        }
        
        .button-container {
            text-align: center;
            margin: 20px 0;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 0 10px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        
        .step-indicator {
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            color: #3498db;
        }
        
        .explanation {
            padding: 15px;
            background-color: #f8f9fa;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .math {
            font-family: "Times New Roman", Times, serif;
            font-style: italic;
        }
        
        .key-element {
            font-weight: bold;
            color: #e74c3c;
        }
        
        .equation-block {
            margin: 15px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            overflow-x: auto;
        }
        
        .problem-definition {
            margin: 0 auto;
            border: 1px solid #ccc;
            padding: 15px;
            background-color: #fff;
            border-radius: 5px;
            margin-bottom: 20px;
            max-width: 80%;
        }
        
        .steps-container {
            margin: 20px 0;
        }
        
        .step-card {
            background-color: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #3498db;
        }
        
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #3498db;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .step-title {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            color: #3498db;
        }
        
        .concept-image {
            text-align: center;
            margin: 15px 0;
        }
        
        .icon {
            font-size: 24px;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .comparison-table th {
            background-color: #3498db;
            color: white;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .yes {
            color: #27ae60;
            font-weight: bold;
        }
        
        .no {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Hva er Big-M Metoden?</h1>
    <h2>En enkel visualisering</h2>
    
    <div class="step-indicator">
        Steg <span id="currentStep">1</span> av <span id="totalSteps">4</span>
    </div>
    
    <div class="container">
        <div class="panel">
            <h2>Geometrisk Visualisering</h2>
            <div id="canvas-container">
                <canvas id="geometricCanvas" width="450" height="350"></canvas>
            </div>
        </div>
        
        <div class="panel">
            <h2>Problemet og L√∏sningen</h2>
            <div id="problemDisplay" class="explanation"></div>
        </div>
    </div>
    
    <div class="panel">
        <h2>Forklaring</h2>
        <div id="explanationText" class="explanation"></div>
    </div>
    
    <div class="button-container">
        <button id="backBtn">Tilbake</button>
        <button id="nextBtn">Neste</button>
        <button id="resetBtn">Start p√• nytt</button>
    </div>
    
    <script>
        // DOM-elementer
        const problemDisplay = document.getElementById('problemDisplay');
        const explanationText = document.getElementById('explanationText');
        const geometricCanvas = document.getElementById('geometricCanvas');
        const ctx = geometricCanvas.getContext('2d');
        const backBtn = document.getElementById('backBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        const currentStepDisplay = document.getElementById('currentStep');
        const totalStepsDisplay = document.getElementById('totalSteps');
        
        // Tilstands-variabler
        let currentStep = 0;
        const totalSteps = 4;
        
        // Oppdater steg-displayet og knapp-tilgjengelighet
        function updateStepDisplay() {
            currentStepDisplay.textContent = currentStep + 1;
            totalStepsDisplay.textContent = totalSteps;
            
            // H√•ndter tilgjengelighet for neste-knappen
            if (currentStep >= totalSteps - 1) {
                nextBtn.disabled = true;
            } else {
                nextBtn.disabled = false;
            }
            
            // H√•ndter tilgjengelighet for tilbake-knappen
            if (currentStep <= 0) {
                backBtn.disabled = true;
            } else {
                backBtn.disabled = false;
            }
        }
        
        // Problemdefinisjon for hvert steg
        const problems = [
            // Steg 1: Problem og utfordring
            `
            <div class="problem-definition">
                <h3>V√•r Oppgave</h3>
                <p><span class="math">Min Z = 8x‚ÇÅ + 6x‚ÇÇ</span></p>
                <p><span class="math">N√•r 4x‚ÇÅ + 2x‚ÇÇ - s‚ÇÅ = 20</span></p>
                <p><span class="math">x‚ÇÅ + x‚ÇÇ - s‚ÇÇ = 6</span></p>
                <p><span class="math">x‚ÇÅ, x‚ÇÇ, s‚ÇÅ, s‚ÇÇ ‚â• 0</span></p>
            </div>
            
            <div class="important-box">
                <h3>Utfordringen</h3>
                <p>üìå Vi kan ikke bruke vanlig simplex-metode fordi:</p>
                <ul>
                    <li>Vi har restriksjoner med negativ slakkvariabel (s‚ÇÅ, s‚ÇÇ) - alts√• "st√∏rre enn eller lik" (‚â•) restriksjoner</li>
                    <li>Slakkvariablene kan ikke v√¶re i startbasis (siden de har negativt fortegn)</li>
                    <li>Origo (0,0) er <strong>ikke</strong> en lovlig l√∏sning for √• starte simplex</li>
                </ul>
            </div>
            `,
            
            // Steg 2: Introduksjon av kunstvariabler
            `
            <div class="problem-definition">
                <h3>Introduserer Kunstvariabler</h3>
                <p><span class="math">Min Z = 8x‚ÇÅ + 6x‚ÇÇ + <span class="artificial">Ma‚ÇÅ + Ma‚ÇÇ</span></span></p>
                <p><span class="math">N√•r 4x‚ÇÅ + 2x‚ÇÇ - s‚ÇÅ + <span class="artificial">a‚ÇÅ</span> = 20</span></p>
                <p><span class="math">x‚ÇÅ + x‚ÇÇ - s‚ÇÇ + <span class="artificial">a‚ÇÇ</span> = 6</span></p>
                <p><span class="math">x‚ÇÅ, x‚ÇÇ, s‚ÇÅ, s‚ÇÇ, a‚ÇÅ, a‚ÇÇ ‚â• 0</span></p>
            </div>
            
            <div class="note">
                <h3>Hva gj√∏r vi?</h3>
                <p>üìå For hver restriksjon:</p>
                <ul>
                    <li>Beholder <strong>slakkvariablene</strong> (s‚ÇÅ, s‚ÇÇ) fra den standard form med negativ fortegn (siden vi har "st√∏rre enn eller lik" restriksjoner)</li>
                    <li>Legger til en <strong>kunstvariabel</strong> (a‚ÇÅ, a‚ÇÇ) for hver "st√∏rre enn eller lik" eller likhetsrestriksjon</li>
                    <li>Gir kunstvariablene en <strong>stor kostnad M</strong> i m√•lfunksjonen</li>
                </ul>
                <p>Dette gir oss en lovlig startl√∏sning for simplex-algoritmen.</p>
            </div>
            `,
            
            // Steg 3: Tableauer og iterasjoner
            `
            <div class="problem-definition">
                <h3>Simplex Tableauer</h3>
                <table>
                    <tr>
                        <th>Basis</th>
                        <th>x‚ÇÅ</th>
                        <th>x‚ÇÇ</th>
                        <th>s‚ÇÅ</th>
                        <th>s‚ÇÇ</th>
                        <th>a‚ÇÅ</th>
                        <th>a‚ÇÇ</th>
                        <th>b</th>
                    </tr>
                    <tr>
                        <td class="basis">Z</td>
                        <td>8-4M</td>
                        <td>6-2M</td>
                        <td>M</td>
                        <td>M</td>
                        <td>0</td>
                        <td>0</td>
                        <td>-26M</td>
                    </tr>
                    <tr>
                        <td class="basis">a‚ÇÅ</td>
                        <td>4</td>
                        <td>2</td>
                        <td>-1</td>
                        <td>0</td>
                        <td>1</td>
                        <td>0</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td class="basis">a‚ÇÇ</td>
                        <td>1</td>
                        <td>1</td>
                        <td>0</td>
                        <td>-1</td>
                        <td>0</td>
                        <td>1</td>
                        <td>6</td>
                    </tr>
                </table>
            </div>
            
            <div class="note">
                <h3>Hvordan simplex-algoritmen fungerer</h3>
                <p>üìå Algoritmen vil:</p>
                <ul>
                    <li>Starte med kunstvariablene i basis</li>
                    <li>Raskt erstatte kunstvariablene (fordi de har h√∏y kostnad M)</li>
                    <li>Finne en lovlig l√∏sning der alle kunstvariabler er null</li>
                </ul>
                <p>Simplex-algoritmen beveger seg fra det kunstige startpunktet til det optimale punktet.</p>
            </div>
            `,
            
            // Steg 4: Oppsummering og n√•r bruke Big-M
            `
            <div class="problem-definition">
                <h3>L√∏sning</h3>
                <p><span class="math">x‚ÇÅ = 4, x‚ÇÇ = 2</span></p>
                <p><span class="math">Z = 8(4) + 6(2) = 32 + 12 = 44</span></p>
                <p>Dette er den optimale l√∏sningen til det opprinnelige problemet.</p>
            </div>
            
            <div class="important-box">
                <h3>N√•r skal du bruke Big-M metoden?</h3>
                <table class="comparison-table">
                    <tr>
                        <th>Type restriksjon</th>
                        <th>Trenger slakkvariabel?</th>
                        <th>Trenger kunstvariabel?</th>
                    </tr>
                    <tr>
                        <td>‚â§ (mindre enn eller lik)</td>
                        <td class="yes">Ja (+)</td>
                        <td class="no">Nei</td>
                    </tr>
                    <tr>
                        <td>= (likhet)</td>
                        <td class="no">Nei</td>
                        <td class="yes">Ja</td>
                    </tr>
                    <tr>
                        <td>‚â• (st√∏rre enn eller lik)</td>
                        <td class="yes">Ja (-)</td>
                        <td class="yes">Ja</td>
                    </tr>
                </table>
                <p><strong>Merk:</strong> Slakkvariabelen har positivt fortegn (+) for ‚â§ restriksjoner og negativt fortegn (-) for ‚â• restriksjoner.</p>
            </div>
            `
        ];
        
        // Forklaringer for hvert steg
        const explanations = [
            // Steg 1: Problem og utfordring
            `
            <h3>Hvorfor trenger vi Big-M metoden?</h3>
            
            <div class="steps-container">
                <div class="step-card">
                    <span class="step-number">1</span>
                    <div class="step-title">Simplex-algoritmen trenger en lovlig startl√∏sning</div>
                    <p>I vanlig simplex starter vi fra origo (0,0) og bruker slakkvariabler for √• gj√∏re det lovlig.</p>
                    <p>Men n√•r vi har likhetstegn (=) eller "st√∏rre enn eller lik" (‚â•) restriksjoner, er origo <strong>ikke</strong> en lovlig l√∏sning!</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">2</span>
                    <div class="step-title">Problemet med v√•re restriksjoner</div>
                    <p>Se p√• restriksjonene: 4x‚ÇÅ + 2x‚ÇÇ = 20 og x‚ÇÅ + x‚ÇÇ = 6</p>
                    <p>Hvis vi setter x‚ÇÅ = 0 og x‚ÇÇ = 0 (origo), er de helt tydelig ikke oppfylt!</p>
                    <p>Vi trenger en m√•te √• lage en kunstig startl√∏sning som simplex-algoritmen kan begynne fra.</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">3</span>
                    <div class="step-title">Big-M metoden er l√∏sningen</div>
                    <p>Big-M metoden lar oss starte simplex-algoritmen ved √•:</p>
                    <ul>
                        <li>Bruke <strong>b√•de slakkvariabler og kunstvariabler</strong> sammen:
                            <ul>
                                <li>Slakkvariabler (s‚ÇÅ, s‚ÇÇ): Konverterer ulikheter til likheter</li>
                                <li>Kunstvariabler (a‚ÇÅ, a‚ÇÇ): Gir oss en lovlig startbasis</li>
                            </ul>
                        </li>
                        <li>Tvinge algoritmen til √• fjerne kunstvariablene ved √• gi dem veldig h√∏y kostnad (M)</li>
                    </ul>
                </div>
            </div>
            `,
            
            // Steg 2: Introduksjon av kunstvariabler
            `
            <h3>Hvordan bruker vi kunstvariabler?</h3>
            
            <div class="steps-container">
                <div class="step-card">
                    <span class="step-number">1</span>
                    <div class="step-title">Legg til slakkvariabler og kunstvariabler i restriksjonene</div>
                    <p>Vi trenger <strong>begge typer</strong> variabler:</p>
                    <ul>
                        <li><strong>Slakkvariabler (s‚ÇÅ, s‚ÇÇ)</strong>: For √• konvertere ulikheter til likheter
                            <ul>
                                <li>For "mindre enn eller lik" (‚â§): Legges til (+)</li>
                                <li>For "st√∏rre enn eller lik" (‚â•): Trekkes fra (-)</li>
                            </ul>
                        </li>
                        <li><strong>Kunstvariabler (a‚ÇÅ, a‚ÇÇ)</strong>: For √• f√• en lovlig startbasis
                            <ul>
                                <li>Legges til for hver "=" eller "‚â•" restriksjon</li>
                            </ul>
                        </li>
                    </ul>
                    <p>V√•re restriksjoner i standard form blir:</p>
                    <ul>
                        <li>4x‚ÇÅ + 2x‚ÇÇ - s‚ÇÅ + a‚ÇÅ = 20</li>
                        <li>x‚ÇÅ + x‚ÇÇ - s‚ÇÇ + a‚ÇÇ = 6</li>
                    </ul>
                    <p>Dette lar oss starte med a‚ÇÅ = 20 og a‚ÇÇ = 6 (n√•r x‚ÇÅ = x‚ÇÇ = s‚ÇÅ = s‚ÇÇ = 0), som er en lovlig startl√∏sning.</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">2</span>
                    <div class="step-title">Legger til kunstvariabler i m√•lfunksjonen</div>
                    <p>Vi modifiserer m√•lfunksjonen ved √• legge til kunstvariablene med en <strong>veldig stor koeffisient M</strong>:</p>
                    <p>Min Z = 8x‚ÇÅ + 6x‚ÇÇ + Ma‚ÇÅ + Ma‚ÇÇ</p>
                    <p>Siden vi minimerer og M er veldig stort, vil algoritmen pr√∏ve √• f√• kunstvariablene ut av l√∏sningen s√• fort som mulig.</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">3</span>
                    <div class="step-title">Hvorfor dette fungerer</div>
                    <p>Kunstvariablene gir oss en kunstig lovlig startl√∏sning, men:</p>
                    <ul>
                        <li>De er ikke en del av det opprinnelige problemet</li>
                        <li>Vi vil at de skal v√¶re 0 i den endelige l√∏sningen</li>
                        <li>Den h√∏ye kostnaden M sikrer at de blir fjernet fra l√∏sningen</li>
                    </ul>
                    <p>Simplex vil erstatte kunstvariablene med de opprinnelige variablene (x‚ÇÅ, x‚ÇÇ) i l√∏pet av iterasjonene.</p>
                </div>
            </div>
            `,
            
            // Steg 3: Tableauer og iterasjoner
            `
            <h3>Hvordan l√∏ser vi problemet med Big-M?</h3>
            
            <div class="steps-container">
                <div class="step-card">
                    <span class="step-number">1</span>
                    <div class="step-title">Setter opp det f√∏rste tableauet</div>
                    <p>Vi starter med kunstvariablene i basis:</p>
                    <ul>
                        <li>Basis: a‚ÇÅ og a‚ÇÇ</li>
                        <li>M√•lfunksjon: Min Z = 8x‚ÇÅ + 6x‚ÇÇ + Ma‚ÇÅ + Ma‚ÇÇ</li>
                    </ul>
                    <p>M√•lfunksjonsraden f√•r negative M-uttrykk for x‚ÇÅ og x‚ÇÇ, noe som gj√∏r dem attraktive √• bringe inn i l√∏sningen.</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">2</span>
                    <div class="step-title">Kj√∏rer simplex-iterasjoner</div>
                    <p>Simplex-algoritmen utf√∏rer pivot-operasjoner:</p>
                    <ul>
                        <li>F√∏rst bringer vi x‚ÇÇ inn og erstatter a‚ÇÇ</li>
                        <li>Deretter bringer vi x‚ÇÅ inn og erstatter a‚ÇÅ</li>
                    </ul>
                    <p>P√• slutten har vi erstattet alle kunstvariablene med opprinnelige variabler.</p>
                </div>
                
                <div class="step-card">
                    <span class="step-number">3</span>
                    <div class="step-title">Tolker den endelige l√∏sningen</div>
                    <p>Etter iterasjonene f√•r vi:</p>
                    <ul>
                        <li>x‚ÇÅ = 4, x‚ÇÇ = 2</li>
                        <li>a‚ÇÅ = 0, a‚ÇÇ = 0 (kunstvariablene er ute av basis)</li>
                        <li>Z = 44</li>
                    </ul>
                    <p>Siden a‚ÇÅ = a‚ÇÇ = 0, er dette en lovlig l√∏sning p√• det opprinnelige problemet.</p>
                </div>
            </div>
            `,
            
            // Steg 4: Oppsummering og n√•r bruke Big-M
            `
            <h3>Oppsummering: N√•r og hvordan bruker vi Big-M?</h3>
            
            <div class="steps-container">
                <div class="step-card">
                    <span class="step-number">1</span>
                    <div class="step-title">N√•r skal vi bruke Big-M metoden?</div>
                    <p>Bruk Big-M n√•r du har:</p>
                    <ul>
                        <li>Likhetsrestriksjoner (=)</li>
                        <li>"St√∏rre enn eller lik" restriksjoner (‚â•)</li>
                        <li>Ingen √•penbar lovlig startl√∏sning for simplex</li>
                    </ul>
                </div>
                
                <div class="step-card">
                    <span class="step-number">2</span>
                    <div class="step-title">Hvordan bruker du Big-M?</div>
                    <ol>
                        <li>Legg til en kunstvariabel for hver likhetsrestriksjon eller "st√∏rre enn eller lik" restriksjon</li>
                        <li>Legg til kunstvariablene i m√•lfunksjonen med en stor koeffisient M (+ for minimering, - for maksimering)</li>
                        <li>Bruk simplex til √• finne en l√∏sning der kunstvariablene = 0</li>
                    </ol>
                </div>
                
                <div class="step-card">
                    <span class="step-number">3</span>
                    <div class="step-title">Viktige poeng √• huske</div>
                    <ul>
                        <li>Kunstvariablene er ikke en del av det opprinnelige problemet</li>
                        <li>De er bare en m√•te √• starte simplex-algoritmen p√•</li>
                        <li>M m√• v√¶re tilstrekkelig stort for √• sikre at kunstvariablene blir null</li>
                        <li>Hvis du ikke kan f√• alle kunstvariablene til √• bli null, har det opprinnelige problemet ingen lovlig l√∏sning</li>
                    </ul>
                </div>
            </div>
            `
        ];
        
        // Tegn geometrisk visualisering
        function drawGeometricVisualization(step) {
            const width = geometricCanvas.width;
            const height = geometricCanvas.height;
            const scale = 30; // piksler per enhet
            const originX = 60;
            const originY = height - 60;
            
            // Rens canvas
            ctx.clearRect(0, 0, width, height);
            
            // Tegn aksene
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            
            // x-akse
            ctx.beginPath();
            ctx.moveTo(originX, originY);
            ctx.lineTo(width - 20, originY);
            ctx.stroke();
            
            // y-akse
            ctx.beginPath();
            ctx.moveTo(originX, originY);
            ctx.lineTo(originX, 20);
            ctx.stroke();
            
            // Aksenavnene
            ctx.fillStyle = '#000';
            ctx.font = '14px Arial';
            ctx.fillText('x‚ÇÅ', width - 20, originY - 10);
            ctx.fillText('x‚ÇÇ', originX + 10, 20);
            ctx.fillText('0', originX - 15, originY + 15);
            
            // Aksemerker
            for (let i = 1; i <= 10; i++) {
                // x-aksen
                const xPos = originX + i * scale;
                if (xPos < width - 20) {
                    ctx.beginPath();
                    ctx.moveTo(xPos, originY - 3);
                    ctx.lineTo(xPos, originY + 3);
                    ctx.stroke();
                    
                    if (i % 2 === 0 || i === 1) {
                        ctx.fillText(i.toString(), xPos - 3, originY + 15);
                    }
                }
                
                // y-aksen
                const yPos = originY - i * scale;
                if (yPos > 20) {
                    ctx.beginPath();
                    ctx.moveTo(originX - 3, yPos);
                    ctx.lineTo(originX + 3, yPos);
                    ctx.stroke();
                    
                    if (i % 2 === 0 || i === 1) {
                        ctx.fillText(i.toString(), originX - 15, yPos + 5);
                    }
                }
            }
            
            // Tegn restriksjonslinjene
            
            // Restriksjon 1: 4x‚ÇÅ + 2x‚ÇÇ = 20
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX, originY - 10 * scale); // n√•r x‚ÇÅ = 0, x‚ÇÇ = 10
            ctx.lineTo(originX + 5 * scale, originY); // n√•r x‚ÇÇ = 0, x‚ÇÅ = 5
            ctx.stroke();
            
            // Restriksjon 2: x‚ÇÅ + x‚ÇÇ = 6
            ctx.strokeStyle = '#e74c3c';
            ctx.beginPath();
            ctx.moveTo(originX, originY - 6 * scale); // n√•r x‚ÇÅ = 0, x‚ÇÇ = 6
            ctx.lineTo(originX + 6 * scale, originY); // n√•r x‚ÇÇ = 0, x‚ÇÅ = 6
            ctx.stroke();
            
            // Legg til tekst for restriksjonene
            ctx.fillStyle = '#3498db';
            ctx.fillText('4x‚ÇÅ + 2x‚ÇÇ = 20', originX + 5 * scale, originY - 1 * scale);
            
            ctx.fillStyle = '#e74c3c';
            ctx.fillText('x‚ÇÅ + x‚ÇÇ = 6', originX + 6 * scale, originY - 0.5 * scale);
            
            // Skyggelegg l√∏sningsomr√•det (skj√¶ringen mellom linjene)
            ctx.fillStyle = 'rgba(52, 152, 219, 0.1)';
            ctx.beginPath();
            
            // Skj√¶ringspunktet mellom linjene er (4, 2)
            ctx.moveTo(originX + 4 * scale, originY - 2 * scale); // (4, 2)
            
            // Vi tegner bare det ene punktet siden det er bare der restriksjonslinene
            // skj√¶rer hverandre som er lovlig omr√•de
            ctx.arc(originX + 4 * scale, originY - 2 * scale, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Vis origo som ulovlig punkt i steg 1 og 2
            if (step <= 1) {
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.arc(originX, originY, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // R√∏dt kryss over origo
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(originX - 6, originY - 6);
                ctx.lineTo(originX + 6, originY + 6);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(originX + 6, originY - 6);
                ctx.lineTo(originX - 6, originY + 6);
                ctx.stroke();
                
                ctx.fillText('Origo (0,0) er ikke lovlig', originX + 10, originY + 15);
            }
            
            // Tegn objektivfunksjonslinjer i steg 3 og 4
            if (step >= 2) {
                ctx.strokeStyle = '#9b59b6';
                ctx.setLineDash([5, 3]);
                
                // Z = 44 (optimal verdi)
                ctx.beginPath();
                ctx.moveTo(originX, originY - 44/6 * scale); // n√•r x‚ÇÅ = 0
                ctx.lineTo(originX + 44/8 * scale, originY); // n√•r x‚ÇÇ = 0
                ctx.stroke();
                
                ctx.fillStyle = '#9b59b6';
                ctx.fillText('Z = 44', originX + 2 * scale, originY - 3 * scale);
                
                ctx.setLineDash([]);
            }
            
            // Tegn det optimale punktet i steg 3 og 4
            if (step >= 2) {
                ctx.fillStyle = '#2ecc71';
                ctx.beginPath();
                ctx.arc(originX + 4 * scale, originY - 2 * scale, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.fillStyle = '#000';
                if (step === 3) {
                    ctx.fillText('Optimal l√∏sning: (4, 2)', originX + 4 * scale + 10, originY - 2 * scale);
                    ctx.fillText('Z = 44', originX + 4 * scale + 10, originY - 2 * scale + 20);
                }
            }
            
            // Vis tekst om kunstvariabler i steg 2
            if (step === 1) {
                ctx.fillStyle = '#0277bd';
                ctx.font = 'bold 14px Arial';
                ctx.fillText('Kunstvariabler (a‚ÇÅ, a‚ÇÇ)', originX + 100, originY - 100);
                ctx.fillText('lar oss starte simplex', originX + 100, originY - 80);
                ctx.fillText('med en kunstig l√∏sning', originX + 100, originY - 60);
                
                // Vis piler
                ctx.strokeStyle = '#0277bd';
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(originX + 100, originY - 60);
                ctx.lineTo(originX + 50, originY - 30);
                ctx.stroke();
                
                // Tegn kunstig startpunkt
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.arc(originX, originY - 6 * scale, 5, 0, 2 * Math.PI);
                ctx.fill();
                ctx.fillStyle = '#e74c3c';
                ctx.fillText('Kunstig startpunkt', originX - 60, originY - 6 * scale - 15);
                
                // Vis pil mot optimalpunktet
                ctx.strokeStyle = '#e74c3c';
                ctx.setLineDash([3, 2]);
                ctx.beginPath();
                ctx.moveTo(originX, originY - 6 * scale);
                ctx.lineTo(originX + 4 * scale, originY - 2 * scale);
                ctx.stroke();
                ctx.setLineDash([]);
                ctx.fillText('Simplex beveger', originX + 1.5 * scale, originY - 4 * scale - 15);
                ctx.fillText('seg hit', originX + 1.5 * scale, originY - 4 * scale);
            }
            
            // Legg til flere detaljer for steg 4
            if (step === 3) {
                // Vis konklusjonen
                ctx.fillStyle = '#2ecc71';
                ctx.font = 'bold 14px Arial';
                ctx.fillText('a‚ÇÅ = a‚ÇÇ = 0', originX + 4 * scale + 10, originY - 2 * scale + 40);
                ctx.fillText('(kunstvariablene er ute av l√∏sningen)', originX + 4 * scale + 10, originY - 2 * scale + 60);
            }
        }
        
        // Vis problem og forklaring for n√•v√¶rende steg
        function showContent(step) {
            problemDisplay.innerHTML = problems[step];
            explanationText.innerHTML = explanations[step];
        }
        
        // Sett visningen basert p√• n√•v√¶rende steg
        function renderStep() {
            updateStepDisplay();
            showContent(currentStep);
            drawGeometricVisualization(currentStep);
        }
        
        // H√•ndter neste-knappen
        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                renderStep();
            }
        });
        
        // H√•ndter tilbake-knappen
        backBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                renderStep();
            }
        });
        
        // H√•ndter reset-knappen
        resetBtn.addEventListener('click', () => {
            currentStep = 0;
            renderStep();
        });
        
        // Initialiser visualiseringen
        renderStep();
        
        // Deaktiver tilbake-knappen ved oppstart
        backBtn.disabled = true;
    </script>
</body>
</html>
